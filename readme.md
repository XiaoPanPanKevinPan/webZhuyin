# webZhuyin: 以 HTML 幫文字加上注音

[程式連結]( https://xiaopanpankevinpan.github.io/webZhuyin/example_ruby.html )

## 為什麼需要 webZhuyin
近來，數位混成教育風行一時。然而作者發現，目前並未有使用簡便的文字加注音方案，能兼顧「跨瀏覽器相容性」與「檔案大小」。此程式／函式庫便是為了此目標設計。

## 優勢劣勢
- 注音字體的劣勢 <--> webZhuyin 的優勢
	- 多數注音字體需要付費取得授權，也容易衍生法律糾紛
		<--> webZhuyin 使用教育部正楷體、全字庫正楷體等字體，可避免多數情況下的法律糾紛。
	- 檢視者如果電腦沒有安裝注音字體，瀏覽器亦不支援 Web Fonts 方式載入（如版本過舊），則將看不到注音
		<--> webZhuyin 以網頁安全字體（多數電腦預裝）作為後備，減少不支援之情事。
	- 對於少見的、讀音特殊的破音字，注音字體可能沒有支援
		<--> webZhuyin 注什麼音，全可以自由決定。
	- 許多網站內建之編輯器，並無注音字體可供選擇
		<--> webZhuyin 只要編輯器支援 HTML 輸入，即可顯示帶注音之文字

- 帶注音之點陣圖片（.png, .jpg, .gif）的劣勢 <--> webZhuyin 的優勢
	- 圖片檔案大，傳輸用時久且耗流量
		<--> webZhuyin 只會產生 HTML 代碼，是純文字，故傳輸方便。且瀏覽器會自動快取字型檔，一勞永逸。
  - 許多網站內建之編輯器不支援圖片上傳
		<--> webZhuyin 只要編輯器支援 HTML 輸入，即可顯示帶注音之文字
	- 圖片放大就模糊／圖片上傳之後畫質變低了，結果注音不清楚
		<--> webZhuyin 所產生為 HTML 代碼，由瀏覽器依據放大倍率渲染，故文字清晰。

## 範例
### 直書
<div id="vertHTML" class="zhuyinVert " style="max-height: 75vh;"><style>@font-face { font-family: "TW-Moe-Std-Kai"; src: local("TW-Moe-Std-Kai"), url("https://gist.githubusercontent.com/XiaoPanPanKevinPan/e064a6ca6b35a964e0a927bf2f2ecc84/raw/fb85739e5a3906d2b99fa29f29349779e658b690/edukai-4.0.ttf") format("truetype"), local("TW-Kai"), local("DFKai-SB"), local("BiauKai") ; } #vertHTML.zhuyinVert{ writing-mode: vertical-rl; overflow: auto; } #vertHTML.zhuyinVert ruby{ ruby-position: over; font-family: "TW-Moe-Std-Kai"; } #vertHTML.zhuyinVert rt{ writing-mode: vertical-lr; text-orientation: upright; font-size: 0.3em; text-align: center; text-justify: none; user-select: none; } #vertHTML.zhuyinVert rt .tone{ font-size: calc(5em / 9); display: inline-block; height: 0; translate: calc(9em / 5 * 1) -2em; text-orientation: upright; }</style><ruby>莫<rt>ㄇㄛ<span class="tone">ˋ</span></rt>聽<rt>ㄊㄧㄥ<span class="tone">&nbsp;</span></rt>穿<rt>ㄔㄨㄢ<span class="tone">&nbsp;</span></rt>林<rt>ㄌㄧㄣ<span class="tone">ˊ</span></rt>打<rt>ㄉㄚ<span class="tone">ˇ</span></rt>葉<rt>ㄧㄝ<span class="tone">ˋ</span></rt>聲<rt>ㄕㄥ<span class="tone">&nbsp;</span></rt>，<rt><span class="tone">　</span></rt>何<rt>ㄏㄜ<span class="tone">ˊ</span></rt>妨<rt>ㄈㄤ<span class="tone">ˊ</span></rt>吟<rt>ㄧㄣ<span class="tone">ˊ</span></rt>嘯<rt>ㄒㄧㄠ<span class="tone">ˋ</span></rt>且<rt>ㄑㄧㄝ<span class="tone">ˇ</span></rt>徐<rt>ㄒㄩ<span class="tone">ˊ</span></rt>行<rt>ㄒㄧㄥ<span class="tone">ˊ</span></rt>；<rt><span class="tone">　</span></rt>竹<rt>ㄓㄨ<span class="tone">ˊ</span></rt>杖<rt>ㄓㄤ<span class="tone">ˋ</span></rt>芒<rt>ㄇㄤ<span class="tone">ˊ</span></rt>鞋<rt>ㄒㄧㄝ<span class="tone">ˊ</span></rt>輕<rt>ㄑㄧㄥ<span class="tone">&nbsp;</span></rt>勝<rt>ㄕㄥ<span class="tone">ˋ</span></rt>馬<rt>ㄇㄚ<span class="tone">ˇ</span></rt>，<rt><span class="tone">　</span></rt>誰<rt>ㄕㄟ<span class="tone">ˊ</span></rt>怕<rt>ㄆㄚ<span class="tone">ˋ</span></rt>？<rt><span class="tone">　</span></rt>一<rt>ㄧ<span class="tone">ˋ</span></rt>蓑<rt>ㄙㄨㄛ<span class="tone">&nbsp;</span></rt>煙<rt>ㄧㄢ<span class="tone">&nbsp;</span></rt>雨<rt>ㄩ<span class="tone">ˇ</span></rt>任<rt>ㄖㄣ<span class="tone">ˋ</span></rt>平<rt>ㄆㄧㄥ<span class="tone">ˊ</span></rt>生<rt>ㄕㄥ<span class="tone">&nbsp;</span></rt>。<rt><span class="tone">　</span></rt>料<rt>ㄌㄧㄠ<span class="tone">ˋ</span></rt>峭<rt>ㄐㄧㄠ<span class="tone">ˋ</span></rt>春<rt>ㄔㄨㄣ<span class="tone">&nbsp;</span></rt>風<rt>ㄈㄥ<span class="tone">&nbsp;</span></rt>吹<rt>ㄘㄨㄟ<span class="tone">&nbsp;</span></rt>酒<rt>ㄐㄧㄡ<span class="tone">ˇ</span></rt>醒<rt>ㄒㄧㄥ<span class="tone">ˇ</span></rt>，<rt><span class="tone">　</span></rt>微<rt>ㄨㄟ<span class="tone">ˊ</span></rt>冷<rt>ㄌㄥ<span class="tone">ˇ</span></rt>、<rt><span class="tone">　</span></rt>山<rt>ㄕㄢ<span class="tone">&nbsp;</span></rt>頭<rt>ㄊㄡ<span class="tone">ˊ</span></rt>斜<rt>ㄒㄧㄝ<span class="tone">ˊ</span></rt>照<rt>ㄓㄠ<span class="tone">ˋ</span></rt>卻<rt>ㄑㄩㄝ<span class="tone">ˋ</span></rt>相<rt>ㄒㄧㄤ<span class="tone">&nbsp;</span></rt>迎<rt>ㄧㄥ<span class="tone">ˊ</span></rt>；<rt><span class="tone">　</span></rt>回<rt>ㄏㄨㄟ<span class="tone">ˊ</span></rt>首<rt>ㄕㄡ<span class="tone">ˇ</span></rt>向<rt>ㄒㄧㄤ<span class="tone">ˋ</span></rt>來<rt>ㄌㄞ<span class="tone">ˊ</span></rt>蕭<rt>ㄒㄧㄠ<span class="tone">&nbsp;</span></rt>瑟<rt>ㄙㄜ<span class="tone">ˋ</span></rt>處<rt>ㄔㄨ<span class="tone">ˋ</span></rt>，<rt><span class="tone">　</span></rt>歸<rt>ㄍㄨㄟ<span class="tone">&nbsp;</span></rt>去<rt>ㄑㄩ<span class="tone">ˋ</span></rt>、<rt><span class="tone">　</span></rt>也<rt>ㄧㄝ<span class="tone">ˇ</span></rt>無<rt>ㄨ<span class="tone">ˊ</span></rt>風<rt>ㄈㄥ<span class="tone">&nbsp;</span></rt>雨<rt>ㄩ<span class="tone">ˇ</span></rt>也<rt>ㄧㄝ<span class="tone">ˇ</span></rt>無<rt>ㄨ<span class="tone">ˊ</span></rt>晴<rt>ㄑㄧㄥ<span class="tone">ˊ</span></rt>。<rt><span class="tone">　</span></rt>&nbsp;<rt><span class="tone">　</span></rt></ruby></div>

### 橫書，注音在上（貼近標準）
<div  class="zhuyinHoriUp "><style>@font-face { font-family: "TW-Moe-Std-Kai"; src: local("TW-Moe-Std-Kai"), url("https://gist.githubusercontent.com/XiaoPanPanKevinPan/e064a6ca6b35a964e0a927bf2f2ecc84/raw/fb85739e5a3906d2b99fa29f29349779e658b690/edukai-4.0.ttf") format("truetype"), local("TW-Kai"), local("DFKai-SB"), local("BiauKai") ; } .zhuyinHoriUp { padding-top: 0.5em; } .zhuyinHoriUp ruby { line-height: 1.5em; font-family: "TW-Moe-Std-Kai"; } .zhuyinHoriUp rt { font-size: 0.3em; text-justify: none; translate: 0 calc(-1em / 9); user-select: none; } .zhuyinHoriUp rt .tone { font-size: calc(5em / 9); display: inline-block; width: 0px; transform: translate(calc(-3em / 5), calc(-9em / 5)); }</style><ruby>莫<rt>ㄇㄛ<span class="tone">ˋ</span></rt>聽<rt>ㄊㄧㄥ<span class="tone">&nbsp;</span></rt>穿<rt>ㄔㄨㄢ<span class="tone">&nbsp;</span></rt>林<rt>ㄌㄧㄣ<span class="tone">ˊ</span></rt>打<rt>ㄉㄚ<span class="tone">ˇ</span></rt>葉<rt>ㄧㄝ<span class="tone">ˋ</span></rt>聲<rt>ㄕㄥ<span class="tone">&nbsp;</span></rt>，<rt><span class="tone">　</span></rt>何<rt>ㄏㄜ<span class="tone">ˊ</span></rt>妨<rt>ㄈㄤ<span class="tone">ˊ</span></rt>吟<rt>ㄧㄣ<span class="tone">ˊ</span></rt>嘯<rt>ㄒㄧㄠ<span class="tone">ˋ</span></rt>且<rt>ㄑㄧㄝ<span class="tone">ˇ</span></rt>徐<rt>ㄒㄩ<span class="tone">ˊ</span></rt>行<rt>ㄒㄧㄥ<span class="tone">ˊ</span></rt>；<rt><span class="tone">　</span></rt>竹<rt>ㄓㄨ<span class="tone">ˊ</span></rt>杖<rt>ㄓㄤ<span class="tone">ˋ</span></rt>芒<rt>ㄇㄤ<span class="tone">ˊ</span></rt>鞋<rt>ㄒㄧㄝ<span class="tone">ˊ</span></rt>輕<rt>ㄑㄧㄥ<span class="tone">&nbsp;</span></rt>勝<rt>ㄕㄥ<span class="tone">ˋ</span></rt>馬<rt>ㄇㄚ<span class="tone">ˇ</span></rt>，<rt><span class="tone">　</span></rt>誰<rt>ㄕㄟ<span class="tone">ˊ</span></rt>怕<rt>ㄆㄚ<span class="tone">ˋ</span></rt>？<rt><span class="tone">　</span></rt>一<rt>ㄧ<span class="tone">ˋ</span></rt>蓑<rt>ㄙㄨㄛ<span class="tone">&nbsp;</span></rt>煙<rt>ㄧㄢ<span class="tone">&nbsp;</span></rt>雨<rt>ㄩ<span class="tone">ˇ</span></rt>任<rt>ㄖㄣ<span class="tone">ˋ</span></rt>平<rt>ㄆㄧㄥ<span class="tone">ˊ</span></rt>生<rt>ㄕㄥ<span class="tone">&nbsp;</span></rt>。<rt><span class="tone">　</span></rt>料<rt>ㄌㄧㄠ<span class="tone">ˋ</span></rt>峭<rt>ㄐㄧㄠ<span class="tone">ˋ</span></rt>春<rt>ㄔㄨㄣ<span class="tone">&nbsp;</span></rt>風<rt>ㄈㄥ<span class="tone">&nbsp;</span></rt>吹<rt>ㄘㄨㄟ<span class="tone">&nbsp;</span></rt>酒<rt>ㄐㄧㄡ<span class="tone">ˇ</span></rt>醒<rt>ㄒㄧㄥ<span class="tone">ˇ</span></rt>，<rt><span class="tone">　</span></rt>微<rt>ㄨㄟ<span class="tone">ˊ</span></rt>冷<rt>ㄌㄥ<span class="tone">ˇ</span></rt>、<rt><span class="tone">　</span></rt>山<rt>ㄕㄢ<span class="tone">&nbsp;</span></rt>頭<rt>ㄊㄡ<span class="tone">ˊ</span></rt>斜<rt>ㄒㄧㄝ<span class="tone">ˊ</span></rt>照<rt>ㄓㄠ<span class="tone">ˋ</span></rt>卻<rt>ㄑㄩㄝ<span class="tone">ˋ</span></rt>相<rt>ㄒㄧㄤ<span class="tone">&nbsp;</span></rt>迎<rt>ㄧㄥ<span class="tone">ˊ</span></rt>；<rt><span class="tone">　</span></rt>回<rt>ㄏㄨㄟ<span class="tone">ˊ</span></rt>首<rt>ㄕㄡ<span class="tone">ˇ</span></rt>向<rt>ㄒㄧㄤ<span class="tone">ˋ</span></rt>來<rt>ㄌㄞ<span class="tone">ˊ</span></rt>蕭<rt>ㄒㄧㄠ<span class="tone">&nbsp;</span></rt>瑟<rt>ㄙㄜ<span class="tone">ˋ</span></rt>處<rt>ㄔㄨ<span class="tone">ˋ</span></rt>，<rt><span class="tone">　</span></rt>歸<rt>ㄍㄨㄟ<span class="tone">&nbsp;</span></rt>去<rt>ㄑㄩ<span class="tone">ˋ</span></rt>、<rt><span class="tone">　</span></rt>也<rt>ㄧㄝ<span class="tone">ˇ</span></rt>無<rt>ㄨ<span class="tone">ˊ</span></rt>風<rt>ㄈㄥ<span class="tone">&nbsp;</span></rt>雨<rt>ㄩ<span class="tone">ˇ</span></rt>也<rt>ㄧㄝ<span class="tone">ˇ</span></rt>無<rt>ㄨ<span class="tone">ˊ</span></rt>晴<rt>ㄑㄧㄥ<span class="tone">ˊ</span></rt>。<rt><span class="tone">　</span></rt>&nbsp;<rt><span class="tone">　</span></rt></ruby></div>


### 橫書，注音在用（貼近習慣）

<div  class="zhuyinHoriRight "><style>@font-face { font-family: "TW-Moe-Std-Kai"; src: local("TW-Moe-Std-Kai"), url("https://gist.githubusercontent.com/XiaoPanPanKevinPan/e064a6ca6b35a964e0a927bf2f2ecc84/raw/fb85739e5a3906d2b99fa29f29349779e658b690/edukai-4.0.ttf") format("truetype"), local("TW-Kai"), local("DFKai-SB"), local("BiauKai") ; } .zhuyinHoriRight ruby{ display: inline-block; font-family: "TW-Moe-Std-Kai"; } .zhuyinHoriRight rt{ display: inline-grid; vertical-align: middle; writing-mode: vertical-lr; text-orientation: upright; font-size: 0.3em; width: calc(1em / 0.3 * 0.5); padding-left: calc(1em / 9); user-select: none; } .zhuyinHoriRight rt .tone{ font-size: calc(5em / 9); text-align: end; padding-bottom: calc(9em / 5 * (2 / 3)); }</style><ruby>莫<rt>ㄇㄛ<span class="tone">ˋ</span></rt></ruby><ruby>聽<rt>ㄊㄧㄥ<span class="tone">&nbsp;</span></rt></ruby><ruby>穿<rt>ㄔㄨㄢ<span class="tone">&nbsp;</span></rt></ruby><ruby>林<rt>ㄌㄧㄣ<span class="tone">ˊ</span></rt></ruby><ruby>打<rt>ㄉㄚ<span class="tone">ˇ</span></rt></ruby><ruby>葉<rt>ㄧㄝ<span class="tone">ˋ</span></rt></ruby><ruby>聲<rt>ㄕㄥ<span class="tone">&nbsp;</span></rt></ruby><ruby>，<rt><span class="tone">　</span></rt></ruby><ruby>何<rt>ㄏㄜ<span class="tone">ˊ</span></rt></ruby><ruby>妨<rt>ㄈㄤ<span class="tone">ˊ</span></rt></ruby><ruby>吟<rt>ㄧㄣ<span class="tone">ˊ</span></rt></ruby><ruby>嘯<rt>ㄒㄧㄠ<span class="tone">ˋ</span></rt></ruby><ruby>且<rt>ㄑㄧㄝ<span class="tone">ˇ</span></rt></ruby><ruby>徐<rt>ㄒㄩ<span class="tone">ˊ</span></rt></ruby><ruby>行<rt>ㄒㄧㄥ<span class="tone">ˊ</span></rt></ruby><ruby>；<rt><span class="tone">　</span></rt></ruby><ruby>竹<rt>ㄓㄨ<span class="tone">ˊ</span></rt></ruby><ruby>杖<rt>ㄓㄤ<span class="tone">ˋ</span></rt></ruby><ruby>芒<rt>ㄇㄤ<span class="tone">ˊ</span></rt></ruby><ruby>鞋<rt>ㄒㄧㄝ<span class="tone">ˊ</span></rt></ruby><ruby>輕<rt>ㄑㄧㄥ<span class="tone">&nbsp;</span></rt></ruby><ruby>勝<rt>ㄕㄥ<span class="tone">ˋ</span></rt></ruby><ruby>馬<rt>ㄇㄚ<span class="tone">ˇ</span></rt></ruby><ruby>，<rt><span class="tone">　</span></rt></ruby><ruby>誰<rt>ㄕㄟ<span class="tone">ˊ</span></rt></ruby><ruby>怕<rt>ㄆㄚ<span class="tone">ˋ</span></rt></ruby><ruby>？<rt><span class="tone">　</span></rt></ruby><ruby>一<rt>ㄧ<span class="tone">ˋ</span></rt></ruby><ruby>蓑<rt>ㄙㄨㄛ<span class="tone">&nbsp;</span></rt></ruby><ruby>煙<rt>ㄧㄢ<span class="tone">&nbsp;</span></rt></ruby><ruby>雨<rt>ㄩ<span class="tone">ˇ</span></rt></ruby><ruby>任<rt>ㄖㄣ<span class="tone">ˋ</span></rt></ruby><ruby>平<rt>ㄆㄧㄥ<span class="tone">ˊ</span></rt></ruby><ruby>生<rt>ㄕㄥ<span class="tone">&nbsp;</span></rt></ruby><ruby>。<rt><span class="tone">　</span></rt></ruby><ruby>料<rt>ㄌㄧㄠ<span class="tone">ˋ</span></rt></ruby><ruby>峭<rt>ㄐㄧㄠ<span class="tone">ˋ</span></rt></ruby><ruby>春<rt>ㄔㄨㄣ<span class="tone">&nbsp;</span></rt></ruby><ruby>風<rt>ㄈㄥ<span class="tone">&nbsp;</span></rt></ruby><ruby>吹<rt>ㄘㄨㄟ<span class="tone">&nbsp;</span></rt></ruby><ruby>酒<rt>ㄐㄧㄡ<span class="tone">ˇ</span></rt></ruby><ruby>醒<rt>ㄒㄧㄥ<span class="tone">ˇ</span></rt></ruby><ruby>，<rt><span class="tone">　</span></rt></ruby><ruby>微<rt>ㄨㄟ<span class="tone">ˊ</span></rt></ruby><ruby>冷<rt>ㄌㄥ<span class="tone">ˇ</span></rt></ruby><ruby>、<rt><span class="tone">　</span></rt></ruby><ruby>山<rt>ㄕㄢ<span class="tone">&nbsp;</span></rt></ruby><ruby>頭<rt>ㄊㄡ<span class="tone">ˊ</span></rt></ruby><ruby>斜<rt>ㄒㄧㄝ<span class="tone">ˊ</span></rt></ruby><ruby>照<rt>ㄓㄠ<span class="tone">ˋ</span></rt></ruby><ruby>卻<rt>ㄑㄩㄝ<span class="tone">ˋ</span></rt></ruby><ruby>相<rt>ㄒㄧㄤ<span class="tone">&nbsp;</span></rt></ruby><ruby>迎<rt>ㄧㄥ<span class="tone">ˊ</span></rt></ruby><ruby>；<rt><span class="tone">　</span></rt></ruby><ruby>回<rt>ㄏㄨㄟ<span class="tone">ˊ</span></rt></ruby><ruby>首<rt>ㄕㄡ<span class="tone">ˇ</span></rt></ruby><ruby>向<rt>ㄒㄧㄤ<span class="tone">ˋ</span></rt></ruby><ruby>來<rt>ㄌㄞ<span class="tone">ˊ</span></rt></ruby><ruby>蕭<rt>ㄒㄧㄠ<span class="tone">&nbsp;</span></rt></ruby><ruby>瑟<rt>ㄙㄜ<span class="tone">ˋ</span></rt></ruby><ruby>處<rt>ㄔㄨ<span class="tone">ˋ</span></rt></ruby><ruby>，<rt><span class="tone">　</span></rt></ruby><ruby>歸<rt>ㄍㄨㄟ<span class="tone">&nbsp;</span></rt></ruby><ruby>去<rt>ㄑㄩ<span class="tone">ˋ</span></rt></ruby><ruby>、<rt><span class="tone">　</span></rt></ruby><ruby>也<rt>ㄧㄝ<span class="tone">ˇ</span></rt></ruby><ruby>無<rt>ㄨ<span class="tone">ˊ</span></rt></ruby><ruby>風<rt>ㄈㄥ<span class="tone">&nbsp;</span></rt></ruby><ruby>雨<rt>ㄩ<span class="tone">ˇ</span></rt></ruby><ruby>也<rt>ㄧㄝ<span class="tone">ˇ</span></rt></ruby><ruby>無<rt>ㄨ<span class="tone">ˊ</span></rt></ruby><ruby>晴<rt>ㄑㄧㄥ<span class="tone">ˊ</span></rt></ruby><ruby>。<rt><span class="tone">　</span></rt></ruby><ruby>&nbsp;<rt><span class="tone">　</span></rt></ruby></div>
