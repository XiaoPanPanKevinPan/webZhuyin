<!DOCTYPE html>
<html>
	<head>
		<title>HTML 文字加注音</title>
		<meta charset="UTF-8" />
		<script type="module">
			import { createApp } from 'https://unpkg.com/vue@3/dist/vue.esm-browser.js';
			import { translator as zhuyinTranslator } from "./1qazToBopomofo.js";
			import { rubyHTML, rubyCSS } from "./webZhuyin.js";

			createApp({
				data: () => ({
					text: "",
					zhuyin: "",
					vertHTML: "",
					horiUpHTML: "",
					horiRightHTML: ""
				}), 
				methods: {
					zhuyinTranslator: zhuyinTranslator,
					generate(e){
						this.horiUpHTML = rubyHTML(this.text, this.zhuyin, "horiUp", {withCSS: true});
						this.horiRightHTML = rubyHTML(this.text, this.zhuyin, "horiRight", {withCSS: true});
						this.vertHTML = 
							rubyHTML(this.text, this.zhuyin, "vert", {withCSS: true, addId: "vertHTML"});
					}
				}
			}).mount('#vueApp');

		</script>
		<style>#vertPrev, #horiUpPrev, #horiRightPrev { font-size: 30px; overflow: auto; border: solid grey 1px; border-radius: 3px;}</style>
	</head>
	<body>
		<main id="vueApp" style="
			display: grid;
			grid-template: repeat(4, minmax(0, 1fr)) / repeat(2, minmax(0, 1fr));
			height: 180vh;
		">
			<textarea id="text" v-model="text" @input="generate" placeholder="這樣子輸入，懂嗎？

這邊直接放上文章"></textarea>
			<textarea id="zhuyin" v-model="zhuyin" @input="generate" @keydown="zhuyinTranslator" placeholder="ㄓㄜˋ ㄧㄤˋ ㄗ˙ ㄕㄨˉ ㄖㄨˋ ' ㄉㄨㄥˇ ㄇㄚ˙ ' 

聲調在每個注音結尾，中間插入空格，略過文字以 ' 代替。
請將鍵盤切換英數模式，直接輸入。空格鍵輸入一聲，'=' 鍵輸入空格。"></textarea>
			<div id="vertPrev" v-html="vertHTML ? vertHTML : '垂直文字預覽'"></div>
			<textarea id="vertHTML" :value="vertHTML" placeholder="垂直文字程式碼" disabled></textarea>
			<div id="horiUpPrev" v-html="horiUpHTML ? horiUpHTML : '水平、注音在上文字 預覽'"></div>
			<textarea id="horiUpHTML" :value="horiUpHTML" placeholder="水平、注音在右文字 程式碼" disabled></textarea>
			<div id="horiRightPrev" v-html="horiRightHTML ? horiRightHTML : '水平、注音在上文字 預覽'"></div>
			<textarea id="horiRightHTML" :value="horiRightHTML" placeholder="水平、注音在右文字 程式碼" disabled></textarea>
		</main>
		<footer>
			本網頁依據實踐難易度，選擇性地參考了<a href="https://language.moe.gov.tw/001/Upload/files/site_content/M0001/juyin/index.html">《國語符號注音手冊》</a>。<br />
			<br />
			為了確保字型合乎標準、美觀、跨裝置兼容，並減少版權糾紛，本網頁以如下順序嘗試字體
			<li>
				<ul>裝置上已安裝的、<u>中華民國教育部</u>以「創用CC 姓名標示-禁止改作3.0臺灣版」授權的<a href="https://language.moe.gov.tw/result.aspx?classify_sn=23&subclassify_sn=436&content_sn=10"><u>教育部正楷體</u></a></ul>
				<ul>網路上動態載入的<u>教育部正楷體</u>，授權同上</ul>
				<ul>裝置上已安裝的、<u>中華民國數位發展部</u>下轄之<u>全字庫</u>以「開放字型授權條款 OFL-1.1」授權的<a href="https://data.gov.tw/dataset/5961">全字庫正楷體</a></ul>
				<ul>裝置上已安裝的<u>微軟</u><u>標楷體</u></ul>
				<ul>裝置上已安裝的<u>蘋果</u><u>標楷體</u></ul>
			</li>
			為了減少流量消耗，請儘可能於裝置上安裝<u>教育部正楷體</u>。
		</footer>
	</body>
</html>
